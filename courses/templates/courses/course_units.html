<div class="w-full divide-y divide-neutral-300 overflow-hidden rounded-md border border-neutral-300">
    {% for course_unit in course_units %}
    <div x-data="{ isExpanded: false }" class="divide-y divide-neutral-300 bg-white">
        <button id="controlsCoreUnit{{forloop.counter}}" type="button" class="flex w-full items-center justify-between gap-4 p-4 text-left underline-offset-2 hover:text-primary hover:bg-neutral-50/75 focus-visible:bg-neutral-50/75 focus-visible:underline focus-visible:outline-none " aria-controls="coreUnit{{forloop.counter}}" @click="isExpanded = ! isExpanded" :class="isExpanded ? 'text-onSurfaceStrong font-medium text-primary'  : 'text-onSurface font-medium'" :aria-expanded="isExpanded ? 'true' : 'false'">
           {{course_unit.value.unit_title}}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke="currentColor" class="size-5 shrink-0 transition" aria-hidden="true" :class="isExpanded  ?  'rotate-180'  :  ''">
               <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/>
            </svg>
        </button>
        <div x-cloak x-show="isExpanded" id="coreUnit{{forloop.counter}}" role="region" aria-labelledby="controlsAccordionItemOne" x-collapse>
            <div class="p-4 text-pretty">
                {{course_unit.value.unit_description}}
            </div>
        </div>
    </div>
    {% endfor %}
</div>